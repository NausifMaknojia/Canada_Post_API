<div class="signup-form">
  <form method="post" name="form" (ngSubmit)="refForm.form.valid && onSubmit_Reg(refForm.value, refForm)" #refForm="ngForm" >
    <h2>Register</h2>
    <p class="hint-text">Create your account. It's free and only takes a minute.</p>
    <div class="form-group">
      <div class="row">
        <div class="col"><input type="text" class="form-control" name="f_name" placeholder="First Name" tabindex="1"
            required="required" ngModel minlength="3" #f_name="ngModel"></div>
        <div class="col"><input type="text" class="form-control" name="l_name" placeholder="Last Name" tabindex="2"
            required="required" ngModel></div>
      </div>
    </div>
    <div class="form-group">
      <input type="email" class="form-control" name="email" placeholder="Email"  tabindex="3" required="required"
      (input)="onChangeValidateUser($event.target.value)"
      ngModel
       email
        #email="ngModel">
      <span class="help-block" *ngIf="!email.valid && email.touched"> *Please enter valid email.</span>
      <span class="help-block" *ngIf="email.touched"> {{emailMessage}}</span>
    </div>
    <div class="form-group">
      <input type="number" class="form-control" name="mob" placeholder="mobile number" tabindex="4" required="required"
       ngModel
       #mob="ngModel"
       [pattern]="mobNumberPattern">
      <span class="help-block" *ngIf="!mob.valid && mob.touched"> * Please enter correct mobile number.</span>
      <span class="help-block" *ngIf="mob.pattern">* Mobile number not valid </span>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col">
          <select class="form-select" aria-label="select Province" id="province" name="province" tabindex="5"
            ngModel
            (change)="onChangeState($event.target.value)"
            >
            <option selected value="0">Select Province</option>
            <option *ngFor="let province of provinces" [value]="province.p_id">{{province.province}}</option>
          </select>
        </div>
        <div class="col">
          <select class="form-select" aria-label="select city" id="city" name="city" tabindex="6" ngModel>
            <option selected>Select City</option>
            <option *ngFor="let cities of cities" [value]="cities.c_id">{{cities.city}}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="form-group">
      <input type="password" class="form-control" name="password" placeholder="Password" tabindex="7" required="required"
      ngModel
      #password="ngModel"
      minlength="3"
      >
      <span *ngIf="!password.valid && password.touched">Password is required and at least of 3 characters</span>
    </div>
    <div class="form-group">
      <input type="password" class="form-control" name="c_pass" placeholder="Confirm Password" tabindex="8"
        required="required"
        ngModel
        #c_pass="ngModel"
        minlength="3">
      <span *ngIf="!c_pass.valid && c_pass.touched">*Confirm password is required</span>
      <span *ngIf="!(c_pass.value === password.value) && c_pass.touched && c_pass.valid">*Password doesn't match</span>
    </div>
    <div class="form-group">
      <label class="form-check-label"><input type="checkbox" name="policy-checkbox" required tabindex="9" ngModel
        #checkbox
        > I accept the <a href="#"
          data-bs-toggle="modal" data-bs-target="#TermsPolicy">Terms of Use</a> &amp; <a href="#" data-bs-toggle="modal"
          data-bs-target="#TermsPolicy">Privacy Policy</a></label>
          <span class="help-block" *ngIf="!checkbox.valid && checkbox.touched"> * Didn't check the checkbox </span>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-success btn-lg btn-block" [disabled]="!refForm.form.valid">Register Now</button>
      <p *ngIf="isSending">sending...</p>
    </div>
  </form>
  <div class="text-center">Already have an account? <a routerLinkActive="active" routerLink="/login"
      style="color: blue;"> Sign in</a></div>
</div>

<!-- Modal -->
<div class="modal fade" id="TermsPolicy" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        This is some placeholder content to show a vertically centered modal. We've added some extra copy here to show
        how vertically centering the modal works when combined with scrollable modals. We also use some repeated line
        breaks to quickly extend the height of the content, thereby triggering the scrolling. When content becomes
        longer than the prefedined max-height of modal, content will be cropped and scrollable within the modal.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div>
    </div>
  </div>
</div>
