{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../shared/api-request.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/loading-spinner/loading-spinner.component\";\nimport * as i6 from \"@angular/forms\";\n\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"app-loading-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.message);\n  }\n}\n\nfunction LoginComponent_form_3_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \" * Username is your registered email. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_form_3_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \" * Password is required and at least of 3 char. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_form_3_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.message);\n  }\n}\n\nfunction LoginComponent_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 8);\n    i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onSubmit();\n    });\n    i0.ɵɵelementStart(1, \"h2\", 4);\n    i0.ɵɵtext(2, \"Log in\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵelement(4, \"input\", 10);\n    i0.ɵɵtemplate(5, LoginComponent_form_3_span_5_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 9);\n    i0.ɵɵelement(7, \"input\", 12);\n    i0.ɵɵtemplate(8, LoginComponent_form_3_span_8_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9)(10, \"button\", 13);\n    i0.ɵɵtext(11, \"Log in\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, LoginComponent_form_3_span_12_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementStart(13, \"div\", 15)(14, \"label\", 16);\n    i0.ɵɵelement(15, \"input\", 17);\n    i0.ɵɵtext(16, \" Remember me \\u00A0\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"a\", 18);\n    i0.ɵɵtext(18, \"Forgot Password?\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.signinForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.signinForm.get(\"u_name\").valid && ctx_r2.signinForm.get(\"u_name\").touched);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.signinForm.get(\"pass\").valid && ctx_r2.signinForm.get(\"pass\").touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.status == 0);\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(http, apiRequestService, router) {\n      this.http = http;\n      this.apiRequestService = apiRequestService;\n      this.router = router;\n      this.message = null;\n      this.isLoading = false;\n      this.error = null;\n    }\n\n    ngOnInit() {\n      this.signinForm = new FormGroup({\n        'u_name': new FormControl(null, [Validators.required, Validators.email]),\n        'pass': new FormControl(null, [Validators.required, Validators.minLength(3)])\n      });\n    }\n\n    onSubmit() {\n      this.postData = [this.signinForm.get('u_name').value, this.signinForm.get('pass').value]; //just an array\n\n      this.isLoading = true;\n\n      if (this.postData[0] == null || this.postData[1] == null) {\n        this.isLoading = false;\n        this.message = \"UserName or Password cannot be empty\";\n      } else {\n        this.apiRequestService.UserLogin(this.postData).subscribe(responseData => {\n          this.status = responseData['status'];\n\n          if (this.status === 1) {\n            this.isLoading = false;\n            console.log(\"inside login.\");\n            this.router.navigate(['/dashboard']);\n          } else {\n            this.isLoading = false;\n            this.message = responseData['message'];\n            console.log(responseData);\n          }\n        });\n      } // .pipe(catchError());\n      // error=>{\n      //   this.isLoading = false;\n      //   this.error = error.message;\n      //   console.log(error);\n      // };\n\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ApiRequestService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 7,\n    vars: 3,\n    consts: [[1, \"login-form\"], [\"style\", \"text-align: center;\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"text-center\"], [\"routerLinkActive\", \"active\", \"routerLink\", \"/registration\"], [2, \"text-align\", \"center\"], [1, \"alert\", \"alert-danger\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"u_name\", \"id\", \"u_name\", \"placeholder\", \"Username\", \"formControlName\", \"u_name\", 1, \"form-control\"], [\"class\", \"help-block\", 4, \"ngIf\"], [\"type\", \"password\", \"name\", \"pass\", \"id\", \"pass\", \"placeholder\", \"Password\", \"formControlName\", \"pass\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-lg\", \"btn-block\"], [\"class\", \"help-block danger\", 4, \"ngIf\"], [1, \"clearfix\"], [1, \"float-left\", \"form-check-label\"], [\"type\", \"checkbox\"], [1, \"float-right\"], [1, \"help-block\"], [1, \"help-block\", \"danger\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 2, 0, \"div\", 1);\n        i0.ɵɵtemplate(2, LoginComponent_div_2_Template, 3, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, LoginComponent_form_3_Template, 19, 4, \"form\", 3);\n        i0.ɵɵelementStart(4, \"p\", 4)(5, \"a\", 5);\n        i0.ɵɵtext(6, \"Create an Account\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n      }\n    },\n    directives: [i4.NgIf, i5.LoadingSpinnerComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlName, i3.RouterLinkWithHref, i3.RouterLinkActive],\n    styles: [\".login-form[_ngcontent-%COMP%]{width:340px;margin:75px auto;font-size:15px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:15px;background:#f7f7f7;box-shadow:0 2px 2px #0000004d;padding:30px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px}.form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{min-height:38px;border-radius:2px;margin-bottom:2px;margin-top:12px}.btn[_ngcontent-%COMP%]{font-size:15px;font-weight:700}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}